(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"+9c7":function(t,e,n){},SPhN:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{attrs:{width:t.iconSize,height:t.iconSize,"data-jdenticon-value":t.address}})},a=[];s._withStripped=!0;var i=n("WTRC"),r=n.n(i),o={name:"Jdenticon",props:["address","size"],data:function(){return{}},mounted:function(){r()()},computed:{iconSize:function(){return this.size?this.size:30}},watch:{address:function(t){this.$nextTick(function(){r()()})}}},c=o,l=(n("WT8y"),n("KHd+")),u=Object(l["a"])(c,s,a,!1,null,"3759ae24",null);e["a"]=u.exports},WT8y:function(t,e,n){"use strict";var s=n("kp9R"),a=n.n(s);a.a},b0M8:function(t,e,n){"use strict";var s=n("+9c7"),a=n.n(s);a.a},bz7B:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("record-table",{staticClass:"table",attrs:{data:t.trans,options:t.toggleBtn,maxPage:t.maxPage,title:t.computedTitle,clip:{col1:!1,col2:!0}},on:{changePage:t.changePage,changeType:t.changeType}})],1)},a=[];s._withStripped=!0;n("pIFo"),n("rGqo"),n("ls82");var i=n("yXPU"),r=n.n(i),o=n("MVZn"),c=n.n(o),l=n("dGEQ"),u=n("4IOb"),d=n("ydnR"),h=n("L2JU"),f=n("2BWQ"),m={name:"TransRecordContainer",props:["userInfo","currency"],components:{QTable:u["U"],QTd:u["X"],QTableColumns:u["V"],QTooltip:u["Da"],QBtnToggle:u["g"],QPopover:u["M"],QChip:u["o"],RecordTable:f["a"]},data:function(){return{trans:[],loading:!1,maxPage:1,pagination:{page:1,rowsNumber:0,rowsPerPage:10},filter:"",row:null,modalInfoShow:!1,type:1,toggleBtn:[{label:this.$t("TRS_TYPE_TRANSFER_RECORD"),value:1},{label:this.$t("DAPP_TRANSACTION_RECORD"),value:2}]}},methods:c()({},Object(h["b"])(["getTransactions","getTransfers"]),{info:function(t){this.$q.notify({type:"positive",color:"positive",timeout:2e3,message:t})},getAmountNFee:function(t){var e=t.amount,n=t.asset,s=void 0===n?{}:n,a=s?s.precision:8;return Object(l["b"])(e,a)},request:function(){var t=r()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTrans(e.pagination,e.filter);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getTrans:function(){var t=r()(regeneratorRuntime.mark(function t(){var e,n,s,a,i,r,o,c=this,u=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=u.length>0&&void 0!==u[0]?u[0]:{},u.length>1&&void 0!==u[1]?u[1]:"",this.loading=!0,e.page&&(this.pagination=e),n=this.pagination.rowsPerPage,s=this.pagination.page,a={orderBy:"timestamp:desc",limit:n,offset:(s-1)*n},this.currency&&(a.currency=this.currency),2!==this.type){t.next=19;break}return a.senderId=this.userInfo.account.address,t.next=12,this.getTransactions(a);case 12:i=t.sent,this.trans=i.transactions,r=[],i.transactions.forEach(function(t){var e={col1:[],col2:[],fee:[]};e.col1.push(c.getTransType(t.type)),e.col1.push(Object(l["l"])(t.timestamp)),e.col2.push(c.dueArg(t.args)),e.col2.push(c.$t("ARGS")),e.fee.push("-"+Object(l["b"])(t.fee)),e.fee.push("XAS"),e.iconKey="FEE",e.tid=t.id,r.push(e)}),this.trans=r,t.next=26;break;case 19:return a.ownerId=this.userInfo.account.address,t.next=22,this.getTransfers(a);case 22:i=t.sent,o=[],i.transfers.forEach(function(t){var e={col1:[],col2:[],fee:[]},n="";t.recipientId===c.userInfo.address?(n="+",e.col1.push(t.senderId),e.needClip=!0,e.iconKey="RECEIPT"):(n="-",t.recipientName?(e.col1.push(t.recipientName),e.needClip=!1):(e.col1.push(t.recipientId),e.needClip=!0),e.iconKey="PAY");var s=t.amount.indexOf(".");s>0&&(t.amount=t.amount.substring(0,s)),e.col1.push(Object(l["l"])(t.timestamp)),e.col2.push(t.transaction.message||c.$t("NO_REMARK")),e.col2.push(c.$t("REMARK")),e.fee.push(n+Object(l["b"])(t.amount,t.asset?t.asset.precision:8)),e.fee.push(t.currency),e.tid=t.tid,o.push(e)}),this.trans=o;case 26:return this.pagination.rowsNumber=i.count,this.maxPage=Math.ceil(this.pagination.rowsNumber/this.pagination.rowsPerPage),this.loading=!1,t.abrupt("return",i);case 30:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),formatTimestamp:function(t){return Object(l["l"])(t)},getDataInfo:function(t){var e=t.row;this.$root.$emit("showTransInfoModal",e)},getAccountInfo:function(){var t=r()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$root.$emit("openAccountModal",e);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),matchSelf:function(t){return this.userInfo.account.address===t},resetTable:function(){this.pageNo=1},getTransType:function(t){return this.$t(d["d"][t])},resetQuery:function(){this.pagination={page:1,rowsNumber:0,rowsPerPage:10},this.maxPage=1},getName:function(t){var e=this.matchSelf(t.value);return e?"Me":t.row.recipientName?t.row.recipientName:t.value},showMemo:function(t){if(t.transaction.message)return""===t.transaction.message?"":t.transaction.message.slice(0,7)},dueArg:function(t){if(t&&0!==t.length){var e=t.join(",");return e=e.replace(/,/g,", "),e}return this.$t("NO_ARGS")},changePage:function(t){this.pagination.page=t,this.getTrans()},changeType:function(t){this.type=t}}),mounted:function(){this.getTrans()},computed:{dynamicCol:function(){var t=this;return 1===this.type?[{name:"id",label:"ID",field:"id"},{name:"currency",label:"ID",field:"currency"},{name:"type",label:this.$t("TYPE"),field:"type",align:"center",filter:!0,format:function(e){return t.getTransType(e)}},{name:"timestamp",label:this.$t("DATE"),field:"timestamp",width:"180px",format:function(e){return t.formatTimestamp(e)},type:"number"},{name:"fee",label:this.$t("FEES"),field:"fee",filter:!0,format:function(t){return Object(l["b"])(t)}},{name:"args",label:this.$t("ARGS"),field:"args",format:function(t){return t&&(t=t.replace(/"/g,""),t=t.replace("[",""),t=t.replace("]",""),t=t.substr(0,10)+"..."),t},align:"center"}]:[{name:"currency",label:this.$t("ASSET"),field:"currency",filter:!0,type:"number"},{name:"senderId",label:this.$t("SENDER"),field:"senderId",align:"center",format:function(e){var n=t.matchSelf(e);return n?"Me":e}},{name:"recipientId",label:this.$t("RECIPIENT"),field:"recipientId",align:"center"},{name:"timestamp",label:this.$t("DATE"),field:"timestamp",width:"180px",format:function(e){return t.formatTimestamp(e)},type:"number"},{name:"amount",label:this.$t("AMOUNTS"),field:"amount",filter:!0,type:"number"},{name:"message",label:this.$t("REMARK"),field:"message",filter:!0,type:"string",width:"120px"}]},transRecordBtnClass:function(){return this.isDesk?"bg-secondary text-white":"trans-record-btns bg-secondary text-white"},tableTitle:function(){var t=this.$t;return 1===this.type?t("DAPP_TRANSACTION_RECORD_LATELY"):t("TRS_TYPE_TRANSFER_RECORD_LATELY")},computedTitle:function(){return 2===this.type?this.toggleBtn[1].label:this.toggleBtn[0].label}},watch:{userInfo:function(t){this.getTrans()},type:function(t){this.resetQuery(),this.getTrans()}}},p=m,g=(n("b0M8"),n("KHd+")),b=Object(g["a"])(p,s,a,!1,null,"30666793",null);e["a"]=b.exports},kp9R:function(t,e,n){},m8Oa:function(t,e,n){"use strict";var s=n("ywnp"),a=n.n(s);a.a},vBO3:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("div",{staticClass:"home-container self-center"},[n("div",{staticClass:"row gutter-xs col-12"},[n("div",{staticClass:"home-top col-12 col-auto  col-xs-12"},[n("q-card",{staticClass:"bg-white no-shadow"},[n("q-card-main",{staticClass:"row shadow-2"},[n("div",{staticClass:"col-md-6 col-xs-12 row justify-left"},[n("jdenticon",{staticClass:"desktop-only home-jdenticon",attrs:{address:t.user.account.address,size:60}}),n("div",{staticClass:"home-top-set-nickname"},[t.userNickname?n("span",{staticClass:"text-black font-20 vertical-align-middle font-weight"},[t._v("\n                    "+t._s(t.$t("HELLO")+",")+"\n                    ")]):n("span",{staticClass:"text-black font-20 vertical-align-middle font-weight"},[t._v("\n                    "+t._s(t.$t("HELLO"))+"\n                    ")]),t.userNickname?n("span",{staticClass:"font-20 vertical-align-middle"},[t._v(t._s(t.userNickname))]):n("a",{staticClass:"set-nickname font-14 bg-secondary text-white",attrs:{label:t.$t("SET_NICKNAME")},on:{click:t.toPersonalSetNickname}},[t._v(t._s(t.$t("SET_NICKNAME")))]),n("p",{staticClass:"font-14 text-three"},[t._v(t._s(t.$t("HOME_TIPES")))])])],1),n("div",{class:t.homeTopRightClass},[n("div",{staticClass:"home-top-btn-container"},[n("i",{staticClass:"material-icons font-24 vertical-align-middle text-eight"},[t._v("call_missed")]),n("q-btn",{staticClass:"text-secondary font-18 font-weight",attrs:{size:"xs",label:t.$t("TRS_TYPE_TRANSFER"),flat:""},on:{click:function(e){t.$root.$emit("openTransactionDialog",{currency:"XAS",precision:8})}}})],1),n("span",{staticClass:"btn-container-line"}),n("div",{staticClass:"home-top-btn-container"},[n("i",{staticClass:"material-icons material-icons font-24 vertical-align-middle text-eight"},[t._v("call_missed_outgoing")]),n("q-btn",{staticClass:"text-secondary font-18 font-weight",attrs:{size:"xs",label:t.$t("RECEIVE"),flat:""},on:{click:t.showAddrQr}})],1)])])],1)],1)]),n("div",{staticClass:"home-bottom no-border row col no-shadow"},[n("div",{class:t.homeBottomLeftClass},[n("div",{staticClass:"home-bottom-left-container bg-white shadow-1 padding-bottom-30"},[n("q-card",{staticClass:"no-shadow"},[n("q-card-title",[n("i",{staticClass:"material-icons font-24 vertical-align-middle text-secondary"},[t._v("account_balance_wallet")]),n("span",{staticClass:"margin-left-10 text-black font-18 font-weight"},[t._v("\n             "+t._s(t.$t("BALANCE"))+"\n            ")]),n("span",{staticClass:"margin-left-10 text-three font-16 font-weight"},[t._v("\n              "+t._s(t.$t("MAIN_ASSET"))+"\n           ")]),n("span",{staticClass:"qr-right-container",on:{click:t.showAddrQr}},[n("vue-qr",{staticClass:"add-qr-container",attrs:{size:20,text:t.address}})],1)]),n("q-card-main",[n("span",{staticClass:"text-secondary font-20 font-weight"},[t._v("\n              "+t._s(t.totalBalance)+"\n            ")]),n("span",{staticClass:"text-secondary font-12"},[t._v("XAS")]),n("br"),n("div",{staticClass:"border-top row"},[1===t.userInfo.account.isLocked?n("span",{staticClass:"text-three font-12 font-weight"},[t._v("\n                "+t._s(t.$t("AVALABLE"))+t._s(t.availableBalance)+" XAS\n                "),n("br"),t._v("\n                "+t._s(t.$t("FREEZED")+t.freezedBalance)+" XAS\n              ")]):t._e()]),n("div",{staticClass:"text-three font-12 font-weight"},[t._v("\n              "+t._s(t.address)+"\n              "),n("q-btn",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.address||"no data",expression:"address || 'no data'"}],staticClass:"text-secondary font-12",attrs:{size:"xs",flat:"",round:"",icon:"content copy"},on:{success:function(e){t.info(t.$t("COPY_SUCCESS"))}}})],1)]),n("q-card-main",[t.balances.length?n("q-list",{staticClass:"no-border",attrs:{highlight:""}},t._l(t.balances,function(e,s){return n("q-item",{key:s,staticClass:"blances-container shadow-1 bg-white",attrs:{to:{name:"assetDetail",params:{asset:e,user:t.userInfo}}}},[n("q-item-side",[n("q-item-tile",[n("asset-icon",{staticClass:"vertical-align-middle q-ml-sm",attrs:{iconKey:e.currency.toUpperCase()}})],1)],1),n("q-item-main",{staticClass:"text-five font-16 font-weight",attrs:{label:e.currency}}),n("q-item-side",{attrs:{right:""}},[n("q-item-tile",{staticClass:"text-five font-16"},[t._v("\n                    "+t._s(t._f("fee")(e.balance,e.asset.precision))+"\n                    "),n("q-btn",{staticClass:"text-secondary",attrs:{flat:"",round:"",icon:"arrow forward"},on:{click:function(n){t.$router.push({name:"assets",params:{asset:e}})}}})],1)],1)],1)})):t._e(),n("q-btn",{staticClass:"home-all-btn q-hoverable bg-secondary text-white q-btn-rounded",attrs:{color:"secondary",flat:"",label:t.$t("SEE_ALL_ASSETS")},on:{click:t.assets}})],1)],1)],1)]),n("div",{staticClass:"col-md-8 col-xs-12 bg-white shadow-1"},[n("trans-record-container",{staticClass:"table",attrs:{userInfo:t.userInfo}})],1)])]):t._e()},a=[];s._withStripped=!0;n("f3/d");var i=n("MVZn"),r=n.n(i),o=n("SPhN"),c=n("bz7B"),l=n("ygAv"),u=n("4omz"),d=n("L2JU"),h=n("Tlen"),f=n("dGEQ"),m=n("kB5k"),p=n("4IOb"),g={props:["userObj"],components:{VueQr:u["a"],Jdenticon:o["a"],QCard:p["h"],QCardMain:p["j"],QCardTitle:p["m"],QModal:p["G"],QTable:p["U"],QTd:p["X"],QBtn:p["e"],QList:p["E"],QItem:p["w"],QItemMain:p["x"],QItemSide:p["y"],QItemTile:p["z"],TransRecordContainer:c["a"],QIcon:p["u"],QListHeader:p["F"],QAjaxBar:p["d"],AssetIcon:h["a"]},data:function(){return{refreshLoading:!1,isDisable:!1}},methods:{refreshBalance:function(t,e){var n=this;this.refreshLoading=!0,this.$root.$emit("refreshAccount",function(){return n.refreshLoading=!1})},toPersonalSetNickname:function(){this.$router.push("personal")},showAddrQr:function(){this.$root.$emit("showQRCodeModal",this.address)},assets:function(){this.$router.push("assets")},info:function(t){var e=this;!0!==this.isDisable&&(this.isDisable=!0,setTimeout(function(){e.isDisable=!1},2e3),Object(l["m"])(t))},receive:function(){}},mounted:function(){},computed:r()({},Object(d["c"])(["userInfo","balances"]),{totalBalance:function(){var t=new m["BigNumber"](Object(f["b"])(this.userInfo.account.xas)),e=new m["BigNumber"](Object(f["b"])(this.userInfo.account.weight));return t.plus(e).toNumber()},freezedBalance:function(){return new m["BigNumber"](Object(f["b"])(this.userInfo.account.weight)).toNumber()},availableBalance:function(){var t=new m["BigNumber"](this.totalBalance),e=new m["BigNumber"](this.freezedBalance),n=t.minus(e).toNumber();return n},homeTopRightClass:function(){return this.isDesk?"col-md-6 col-xs-12 row justify-end items-center":"col-md-6 col-xs-12 row justify-center items-center"},homeBottomLeftClass:function(){return this.isDesk?"col-md-4 col-xs-12 padding-right-20 balance-panel":"col-md-4 col-xs-12 padding-right-0 margin-bottom-20"},user:function(){return this.userInfo},userNickname:function(){return this.user.account.name},address:function(){return this.userInfo&&this.userInfo.account?this.userInfo.account.address:"nothing"}}),watch:{}},b=g,v=(n("m8Oa"),n("KHd+")),w=Object(v["a"])(b,s,a,!1,null,"eba481d4",null);e["default"]=w.exports},ywnp:function(t,e,n){}}]);