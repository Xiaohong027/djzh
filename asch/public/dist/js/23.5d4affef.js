(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{I9Qk:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-modal",{class:t.userAgreementClass,attrs:{"content-class":"modal-content-limit"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("q-card",{staticClass:"col-12 no-shadow"},[n("div",{staticClass:"bg-secondary height-62 padding-l-20"},[n("span",{staticClass:"text-white font-18 font-weight"},[t._v(t._s(t.title))])]),n("q-card-separator"),n("q-card-main",{staticClass:"q-px-lg margin-t-20"},[n("q-scroll-area",{staticClass:"shadow-1 q-px-sm q-py-lg",staticStyle:{height:"300px"}},[n("vue-markdown",{attrs:{source:t.content}})],1),n("div",{staticClass:"row justify-between user-agree-content"},[n("q-checkbox",{attrs:{label:t.$t("I_AGREE")},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}),n("span",{staticClass:"text-right text-secondary"},[t._v("\n       "+t._s(t.tips)+"\n      ")])],1)],1),n("q-card-main",[n("div",{staticClass:"justify-between row padding-40"},[n("q-btn",{staticClass:"col-3",attrs:{big:"",outline:"",color:"secondary",size:"md",label:t.$t("label.cancel")},on:{click:t.cancel}}),n("q-btn",{staticClass:"bg-secondary text-white col-3",attrs:{big:"",disable:!t.checked,label:t.$t("label.ok")},on:{click:t.confirm}})],1)])],1)],1)},s=[];r._withStripped=!0;var a=n("nOak"),i=n.n(a),o=n("4IOb"),c={data:function(){return{checked:!1}},props:["show","title","content","tips"],components:{VueMarkdown:i.a,QModal:o["G"],QCard:o["h"],QCardTitle:o["m"],QCardMain:o["j"],QCardSeparator:o["l"],QScrollArea:o["P"],QBtn:o["e"],QCheckbox:o["n"]},methods:{confirm:function(){this.$emit("confirm")},cancel:function(){this.$emit("cancel")}},computed:{userAgreementClass:function(){return this.isDesk?"minimized user-agreement-desktop-container":"maximized user-agreement-mobile-container"}}},l=c,u=(n("irZP"),n("KHd+")),d=Object(u["a"])(l,r,s,!1,null,"73a901f1",null);e["a"]=d.exports},W4dP:function(t,e,n){},hMJF:function(t,e,n){},irZP:function(t,e,n){"use strict";var r=n("hMJF"),s=n.n(r);s.a},oAqo:function(t,e,n){"use strict";n.d(e,"j",function(){return i}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return p}),n.d(e,"b",function(){return g}),n.d(e,"i",function(){return m}),n.d(e,"h",function(){return _});var r=n("eO9T"),s=n("AKX1"),a=n.n(s),i=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/,o=/^[A-Z]{3,6}$/,c=/^[a-z0-9_]{2,20}$/,l=/^[A-Za-z0-9_\-+!@$% ]{10,100}$/,u=/^[A-Za-z0-9]{3,16}$/,d=/^[A-Z]{3,6}$/,h=/^\d+(\.\d+)?$/,f=/\s/g,p=function(){return Object(r["withParams"])({},function(t){return a.a.validateMnemonic(t)})},g=function(){return Object(r["withParams"])({},function(t){return o.test(t)})},m=function(){return Object(r["withParams"])({},function(t){return i.test(t)})},_=function(){return Object(r["withParams"])({},function(t){return t.length<=40&&!f.test(t)})}},puFQ:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=this,n=e.$createElement,r=e._self._c||n;return r("q-page",{staticClass:"self-center blocks-container"},[r("div",{staticClass:"geteway-top"},[r("i",{staticClass:"material-icons vertical-align-middle font-30 text-secondary"},[e._v("person")]),r("span",{staticClass:"font-20 text-black vertical-align-middle"},[e._v(e._s(e.$t("BLOCKS")))])]),r("div",{staticClass:"blocks-content row"},[r("div",{staticClass:"col-md-9 col-xs-12"},[r("q-table",{attrs:{data:e.blocksData,"rows-per-page-options":[10],columns:e.columns,pagination:e.pagination,loading:e.loading,title:e.$t("PRODUCED_BLOCKS")},on:{request:e.request,"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[e._v("\n          "+e._s(!1===e.isOwn?e.$t("ALL_BLOCKS"):e.$t("MY_BLOCKS"))+"\n        ")]}},{key:"top-right",fn:function(t){return[r("q-search",{staticClass:"blocks-search text-secondary",attrs:{"hide-underline":"",placeholder:e.$t("ACCOUNT_TYPE_HINT"),type:"number"},on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.getBlock(t):null},function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"])?e.delSearch(t):null}]},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("q-btn",{staticClass:"text-secondary",attrs:{loading:e.loading,flat:"",round:"",icon:"refresh"},on:{click:e.refresh}}),r("q-btn",{staticClass:"text-secondary",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}},{key:"body-cell-id",fn:function(t){return r("q-td",{attrs:{props:t}},[r("div",{staticClass:"my-label text-secondary cursor-pointer",on:{click:function(){return e.showBlockInfo(t.row.id)}}},[e._v("\n            "+e._s(t.value.substring(0,7))+"\n          ")])])}},{key:"body-cell-height",fn:function(t){return r("q-td",{attrs:{props:t}},[r("div",{staticClass:"text-secondary",on:{click:function(){return e.showBlockInfo(t.row.id)}}},[e._v("\n            "+e._s(t.value)+"\n          ")])])}},{key:"body-cell-reward",fn:function(t){return r("q-td",{attrs:{props:t}},[e._v("\n            "+e._s(e._f("fee")(t.value))+"\n        ")])}},{key:"body-cell-generatorId",fn:function(t){return r("q-td",{attrs:{props:t}},[r("div",{staticClass:"text-secondary",on:{click:function(){return e.showAccountInfo(t.row.generatorId)}}},[e._v("\n\n            "+e._s(t.value)+"\n          ")])])}},{key:"body-cell-numberOfTransactions",fn:function(t){return r("q-td",{attrs:{props:t}},[r("div",{staticClass:"text-secondary",on:{click:function(){return e.showTransInfo(t.row.height)}}},[e._v("\n            "+e._s(t.value)+"\n          ")])])}}])})],1),r("div",{class:e.blockRightClass},[r("div",{class:e.blockRightContentClass},[r("q-card",{staticClass:"q-px-sm"},[r("q-card-title",[e._v("\n        "+e._s(e.$t("DELEGATE_INFO"))+"\n        ")]),r("q-card-separator"),this.isDelegate?r("q-card-main",{attrs:{align:"center"}},[e.delegate?r("div",[r("span",{staticClass:"block margin-t-20 text-secondary font-30 font-weight delegate-nick"},[e._v(e._s(e.delegate.name))]),r("span",{staticClass:"block margin-t-20"},[e._v("\n            "+e._s(e.$t("DELEGATE_POLLRATE")+":")+"\n            "),r("a",{staticClass:"text-secondary font-weight font-22 text-decoration-none vertical-align-baseline"},[e._v(e._s(e._f("approval")(e.delegate.approval)))])]),r("span",{staticClass:"block margin-t-10"},[e._v("\n            "+e._s(e.$t("DELEGATE_RANK")+":")+"\n            "),r("a",{staticClass:"text-secondary font-weight font-22 text-decoration-none vertical-align-baseline"},[e._v(e._s(e.delegate.rate))])])]):e._e()]):r("q-card-main",{staticClass:"blocks-padding-40",attrs:{align:"center"}},[r("q-btn",{attrs:{color:"secondary"},on:{click:e.registerDelegate}},[e._v(e._s(e.$t("DELEGATE_REGISTER")))]),r("span",{staticClass:"block margin-t-10 font-12"},[e._v(e._s(e.$t("NOT_DELEGATE")))])],1)],1),this.isDelegate?r("q-card",{staticClass:"q-px-sm margin-t-20"},[r("q-card-title",[e._v("\n        "+e._s(e.$t("MY_FORGING"))+"\n        ")]),r("q-card-separator"),e.delegate?r("q-card-main",{staticClass:"padding-b-40",attrs:{align:"center"}},[r("q-btn",{staticClass:"font-30",attrs:{flat:"","text-color":"secondary"}},[e._v(e._s(e.delegate.producedblocks))]),r("span",{staticClass:"block"},[e._v("\n            "+e._s(e.$t("DELEGATE_VOTERATE")+":")+"\n            "),r("a",{staticClass:"text-secondary font-weight font-22 text-decoration-none vertical-align-baseline",attrs:{href:"javascript:;"}},[e._v(e._s(e.delegate.productivity+"%"))])])],1):e._e()],1):e._e()],1)]),r("q-modal",{attrs:{minimized:"","content-css":"padding: 20px"},model:{value:e.modalInfoShow,callback:function(t){e.modalInfoShow=t},expression:"modalInfoShow"}},[r("big",[e._v(e._s(e.$t("DAPP_DETAIL")))]),r("table",{staticClass:"q-table horizontal-separator highlight loose blocks-datail-table"},[1==e.type?r("tbody",{staticClass:"info-tbody"},[r("tr",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.row.id||"no data",expression:"row.id || 'no data'"}],on:{success:function(t){e.info(e.$t("COPY_SUCCESS"))}}},[r("td",[e._v(e._s("ID"))]),r("td",[e._v(e._s(e.row.id))])]),r("tr",{directives:[{name:"clipboard",rawName:"v-clipboard",value:this.formatTimestamp(e.row.timestamp)||"no data",expression:"this.formatTimestamp(row.timestamp) || 'no data'"}],on:{success:function(t){e.info(e.$t("COPY_SUCCESS"))}}},[r("td",[e._v(e._s(e.$t("DATE")))]),r("td",[e._v(e._s(this.formatTimestamp(e.row.timestamp)))])]),r("tr",[r("td",[e._v(e._s("HEIGHT"))]),r("td",[e._v(e._s(e.row.height))])]),r("tr",{on:{click:function(){e.modalInfoShow=!1,e.showBlockInfo(e.row.previousBlock)}}},[r("td",[e._v(e._s(e.$t("PREVIOUS_BLOCK")))]),r("td",{staticClass:"text-secondary"},[e._v(e._s(e.row.previousBlock))])]),r("tr",[r("td",[e._v(e._s(e.$t("TRANSACTIONS_COUNT")))]),r("td",[e._v(e._s(e.row.numberOfTransactions))])]),r("tr",[r("td",[e._v(e._s(e.$t("PAYLOAD_HASH")))]),r("td",[e._v(e._s(e.row.payloadHash))])]),r("tr",[r("td",[e._v(e._s(e.$t("PRODUCER_PUBKEY")))]),r("td",[e._v(e._s(e.row.generatorPublicKey))])])]):e._e(),3==e.type?r("tbody",{staticClass:"info-tbody"},[r("tr",[r("td",[e._v(e._s("ID"))]),r("td",[e._v(e._s(e.$t("AMOUNTS")))]),r("td",[e._v(e._s(e.$t("FEES")))]),r("td",[e._v(e._s(e.$t("DATE")))])]),e._l(e.row,function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.id))]),r("td",[e._v(e._s(e._f("fee")(t.amount)))]),r("td",[e._v(e._s(e._f("fee")(t.fee)))]),r("td",[e._v(e._s(e._f("time")(t.timestamp)))])])})],2):e._e()]),r("br"),r("div",{staticClass:"align-center"},[r("q-btn",{attrs:{color:"secondary",label:e.$t("label.close")},on:{click:function(){t.modalInfoShow=!1,t.row={}}}})],1)],1),r("user-agreement-modal",{attrs:{show:e.isModalShow,title:e.$t("DELEGATE_TITLE"),content:e.$t("AGREEMENT_DELEGATE_TITLE_CONTENT"),tips:e.$t("DELEGATE_TITLE")+e.$t("COST_FEE",{num:100})},on:{confirm:e.callRegister,cancel:e.closeModal}})],1)])},s=[];r._withStripped=!0;n("f3/d"),n("ls82");var a=n("yXPU"),i=n.n(a),o=n("MVZn"),c=n.n(o),l=n("4IOb"),u=n("ygAv"),d=n("dGEQ"),h=n("oAqo"),f=n("L2JU"),p=n("I9Qk"),g={props:["userObj"],components:{UserAgreementModal:p["a"],QTable:l["U"],QPage:l["I"],QSearch:l["Q"],QBtn:l["e"],QCard:l["h"],QCardTitle:l["m"],QCardSeparator:l["l"],QCardMain:l["j"],QModal:l["G"],QField:l["t"],QInput:l["v"],QTd:l["X"]},data:function(){var t=this;return{delegate:null,blocksData:[],forgingEnabled:!1,pagination:{page:1,rowsNumber:0,rowsPerPage:20},filter:"",loading:!1,columns:[{name:"height",label:this.$t("HEIGHT"),field:"height",align:"center"},{name:"timestamp",label:this.$t("DATE"),field:"timestamp",type:"string",align:"center",format:function(e){return t.formatTimestamp(e)}},{label:"ID",name:"id",field:"id"},{label:this.$t("PRODUCER"),name:"generatorId",field:"delegate"},{name:"numberOfTransactions",label:this.$t("TRANSACTIONS_COUNT"),field:"count",type:"string",align:"right"}],modalInfoShow:!1,row:{},type:0,dialogShow:!1,isModalShow:!1,form:{delegateName:"",secondPwd:""},isOwn:!1,secondPwd:""}},methods:c()({},Object(f["b"])(["blocks","getBlockDetail","blockforging","forgingStatus","getTransactions","broadcastTransaction"]),{refresh:function(){var t=i()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getBlocks(this.defaultPage,"");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),request:function(){var t=i()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getBlocks(e.pagination,e.filter);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getBlocks:function(){var t=i()(regeneratorRuntime.mark(function t(){var e,n,r,s,a,i,o,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},c.length>1&&void 0!==c[1]?c[1]:"",this.loading=!0,n=[],this.isOwn?(e&&e.page&&(this.pagination=e),a=this.pagination.rowsPerPage,i=this.pagination.page,n={generatorPublicKey:this.publicKey,limit:a,offset:(i-1)*a,orderBy:"height:desc"}):(e&&e.page&&(this.pagination=e),r=this.pagination.rowsPerPage,s=this.pagination.page,n={limit:r,offset:(s-1)*r,orderBy:"height:desc"}),t.next=7,this.blocks(n);case 7:return o=t.sent,this.blocksData=o.blocks,this.pagination.rowsNumber=o.count,this.loading=!1,t.abrupt("return",o);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getBlock:function(){var t=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.filter&&this.filter<=this.latestBlock.height)){t.next=10;break}return t.next=3,this.getBlockDetail({filter:this.filter});case 3:return e=t.sent,this.pagination.rowsNumber=1,this.blocksData=[e.block],this.loading=!1,t.abrupt("return",e);case 10:this.getBlocks();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),delSearch:function(){var t=this.filter+"";1===t.length&&(this.filter="")},getDelegate:function(){var t=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.blockforging({publicKey:this.publicKey});case 2:return e=t.sent,!0===e.success&&(this.delegate=e.delegate),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),init:function(){this.filter||this.getBlocks(),this.getDelegate()},formatTimestamp:function(t){return Object(d["l"])(t)},showBlockInfo:function(){var t=i()(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.blockDetail({id:e});case 2:n=t.sent,!0===n.success&&(this.row=n.block,this.modalInfoShow=!0,this.type=1);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),showAccountInfo:function(){var t=i()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$root.$emit("openAccountModal",e);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),showTransInfo:function(){var t=i()(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTransactions({height:e});case 2:n=t.sent,!0===n.success&&(this.row=n.transactions,this.modalInfoShow=!0,this.type=3);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),registerDelegate:function(){var t=i()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.user.account.name){t.next=3;break}return Object(u["p"])(this.$t("PLEASE_SET_NAME")),t.abrupt("return",null);case 3:if(0!==!this.user.account.isDelegate){t.next=6;break}return Object(u["p"])(this.$t("AGENT_ALREADY")),t.abrupt("return",null);case 6:if(!this.user.account.isAgent){t.next=9;break}return Object(u["p"])(this.$t("AGENT_CAN_NOT_BE_DELEGATE")),t.abrupt("return",null);case 9:this.isModalShow=!0;case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),callRegister:function(){var t=this,e=this.$t;this.secondSignature?Object(u["j"])({title:e("DELEGATE_TITLE"),message:e("ACCOUNT_TYPE2_HINT"),prompt:{model:"",type:"password"}},function(e){t.secondPwd=e,t.boardTransaction()}):this.boardTransaction()},boardTransaction:function(){var t=i()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=d["k"].registerDelegate(this.user.secret,this.secondPwd||""),t.next=3,this.broadcastTransaction(e);case 3:n=t.sent,!0===n.success?(Object(u["m"])(this.$t("INF_OPERATION_SUCCEEDED")),this.closeModal()):Object(u["q"])(this.$t,n.error);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),closeModal:function(){this.isModalShow=!1},changeData:function(){this.isOwn=!this.isOwn,this.blocksData=[],this.getBlocks(this.defaultPage,"")},searchData:function(t){this.filter=t,this.getBlockDetail()}}),mounted:function(){this.userInfo&&this.init()},computed:c()({},Object(f["c"])(["userInfo","latestBlock"]),{blockRightClass:function(){return this.isDesk?"col-md-3 col-xs-12":"col-md-3 col-xs-12 margin-top-20"},blockRightContentClass:function(){return this.isDesk?"blocks-container-right":""},user:function(){return this.userInfo},publicKey:function(){if(this.user)return this.user.publicKey},secondSignature:function(){return this.user&&this.user.account?this.user.account.secondPublicKey:null},pwdValid:function(){return!h["j"].test(this.form.secondPwd)},defaultPage:function(){return{page:1,rowsNumber:0,rowsPerPage:20}},isDelegate:function(){return!(!this.userInfo||!this.userInfo.account)&&1===this.userInfo.account.isDelegate}}),watch:{userInfo:function(t){t&&this.init()},isOwn:function(t){},pagination:function(t){}}},m=g,_=(n("x/0d"),n("KHd+")),b=Object(_["a"])(m,r,s,!1,null,"5e4be6ac",null);e["default"]=b.exports},"x/0d":function(t,e,n){"use strict";var r=n("W4dP"),s=n.n(r);s.a}}]);