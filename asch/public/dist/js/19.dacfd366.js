(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{Lu6P:function(t,e,n){"use strict";var r=n("xvLM"),a=n.n(r);a.a},YeBr:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout-padding self-center "},[n("q-card",{staticClass:"row col-12"},[n("q-card-title",{staticClass:"col-12"},[t._v("\n        "+t._s(t.$t("DELEGATE_INFO"))+"\n        "),n("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v(t._s(t.delegate?t.delegate.username:"")+t._s("("+(t.forgingEnabled?t.$t("FORGING_ENABLE"):t.$t("FORGING_DISABLE"))+")"))]),n("div",{staticClass:"items-center",attrs:{slot:"right"},slot:"right"},[t.delegate?t._e():n("q-btn",{attrs:{flat:"",round:"",icon:"assignment"},on:{click:t.registerDelegate}}),n("q-btn",{attrs:{loading:t.refreshLoading,flat:"",round:"",icon:"refresh"},on:{click:t.refreshDelegateInfo}})],1)]),n("q-card-main",{staticClass:"row col-12 "},[t.delegate?n("table",{staticClass:"q-table horizontal-separator highlight loose "},[n("tbody",{staticClass:"info-tbody"},[n("tr",[n("td",[t._v(t._s(t.$t("TOTAL_EARNINGS")))]),n("td",[t._v(t._s(t.delegate.rewards))]),n("td",[t._v(t._s(t.$t("PRODUCTIVITY")))]),n("td",[t._v(t._s(t.delegate.productivity))])]),n("tr",[n("td",[t._v(t._s(t.$t("RANKING")))]),n("td",[t._v(t._s(t.delegate.rate))]),n("td",[t._v(t._s(t.$t("APPROVAL")))]),n("td",[t._v(t._s(t._f("approval")(t.delegate.approval)))])])])]):t._e()])],1),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"}},[n("div",{staticClass:"col-12 "},[n("q-table",{staticClass:"trans-table",attrs:{data:t.blocks,columns:t.columns,pagination:t.pagination,loading:t.loading,title:t.$t("PRODUCED_BLOCKS"),"rows-per-page-options":[10]},on:{request:t.request,"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(t){return[n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}},{key:"body-cell-id",fn:function(e){return n("q-td",{attrs:{props:e}},[n("div",{staticClass:"my-label"},[t._v("\n              "+t._s(e.value.substring(0,7))+"\n              "),n("q-tooltip",[t._v(t._s(e.value))])],1)])}},{key:"body-cell-reward",fn:function(e){return n("q-td",{attrs:{props:e}},[t._v("\n            "+t._s(t._f("fee")(e.value))+"\n          ")])}}])})],1)]),n("q-dialog",{attrs:{"prevent-close":""},on:{ok:t.onOk,cancel:t.onCancel},scopedSlots:t._u([{key:"buttons",fn:function(e){return[n("q-btn",{attrs:{flat:"",color:"primary",label:t.$t("label.cancel")},on:{click:e.cancel}}),n("q-btn",{attrs:{flat:"",color:"primary",label:t.$t("label.ok")},on:{click:e.ok}})]}}]),model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("REGISTER_DELEGATE")))]),n("span",{attrs:{slot:"message"},slot:"message"},[t._v(t._s(t.$t("NEED_PAY")+" 100 XAS"))]),n("div",{staticClass:"row",attrs:{slot:"body"},slot:"body"},[n("q-field",{staticClass:"col-12"},[n("q-input",{attrs:{"float-label":t.$t("DELEGATE_NAME")},model:{value:t.form.delegateName,callback:function(e){t.$set(t.form,"delegateName",e)},expression:"form.delegateName"}})],1),t.secondSignature?n("q-field",{staticClass:"col-12",attrs:{"error-label":t.$t("ERR_TOAST_SECONDKEY_WRONG"),error:t.secondPwdError,"label-width":2}},[n("q-input",{attrs:{"float-label":t.$t("SECOND_PASSWORD"),type:"password"},on:{blur:t.validateSecondPwd},model:{value:t.form.secondPwd,callback:function(e){t.$set(t.form,"secondPwd",e)},expression:"form.secondPwd"}})],1):t._e()],1)])],1)},a=[];r._withStripped=!0;n("ls82");var i=n("yXPU"),s=n.n(i),o=n("fBUP"),l=n("ygAv"),c=n("dGEQ"),u=n("oAqo"),d={props:["userObj"],components:{},data:function(){var t=this;return{delegate:null,blocks:[],forgingEnabled:!1,pagination:{page:1,rowsNumber:0,rowsPerPage:10},filter:"",loading:!1,columns:[{name:"height",label:this.$t("HEIGHT"),field:"height",align:"center"},{name:"timestamp",label:this.$t("DATE"),field:"timestamp",type:"string",format:function(e){return t.formatTimestamp(e)}},{label:"ID",name:"id",field:"id"},{name:"numberOfTransactions",label:this.$t("TRANSACTIONS"),field:"numberOfTransactions",type:"string",align:"right"},{label:this.$t("AMOUNTS"),field:"totalAmount",align:"right"},{label:this.$t("FEES"),field:"totalFee",align:"right"},{name:"reward",label:this.$t("REWARDS"),field:"reward",align:"right"}],modalInfoShow:!1,row:{},dialogShow:!1,refreshLoading:!1,form:{delegateName:"",secondPwd:""},secondPwdError:!1}},methods:{request:function(){var t=s()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getBlocks(e.pagination,e.filter);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getBlocks:function(){var t=s()(regeneratorRuntime.mark(function t(){var e,n,r,a,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},i.length>1&&void 0!==i[1]?i[1]:"",i.length>2&&void 0!==i[2]&&i[2],this.loading=!0,e&&e.page&&(this.pagination=e),n=this.pagination.rowsPerPage,r=this.pagination.page,a={},t.next=10,o["a"].blocks({generatorPublicKey:this.publicKey,limit:n,offset:(r-1)*n,orderBy:"height:desc"});case 10:return a=t.sent,this.blocks=a.blocks,this.pagination.rowsNumber=a.count,this.loading=!1,t.abrupt("return",a);case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getDelegate:function(){var t=s()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].blockforging({publicKey:this.publicKey});case 2:return e=t.sent,!0===e.success&&(this.delegate=e.delegate),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getForgingStatus:function(){var t=s()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].forgingStatus({publicKey:this.publicKey});case 2:return e=t.sent,!0===e.success&&(this.forgingEnabled=e.enabled),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),refreshDelegateInfo:function(){var t=s()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.refreshLoading=!0,t.next=3,this.getDelegate();case 3:this._.delay(function(){return e.refreshLoading=!1},2e3);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),init:function(){this.getDelegate(),this.getForgingStatus(),this.getBlocks()},formatTimestamp:function(t){return Object(c["l"])(t)},registerDelegate:function(){this.dialogShow=!0},validateSecondPwd:function(t){var e=this.pwdValid;return this.secondPwdError=e,e},onCancel:function(){this.resetForm(),this.dialogShow=!1},onOk:function(){var t=s()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(c["d"])(this.form.delegateName,this.user.secret,this.form.secondPwd),t.next=3,o["a"].broadcastTransaction(e);case 3:n=t.sent,!0===n.success?(this.resetForm(),Object(l["m"])(this.$t("INF_OPERATION_SUCCEEDED"))):Object(l["q"])(this.$t,n.error);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),resetForm:function(){this.form.delegateName="",this.form.secondPwd=""}},mounted:function(){this.user&&this.init()},computed:{user:function(){return this.userObj},publicKey:function(){if(this.user)return this.user.account.publicKey},secondSignature:function(){return this.user&&this.user.account?this.user.account.secondPublicKey:null},pwdValid:function(){return!u["j"].test(this.form.secondPwd)}},watch:{userObj:function(t){t&&t.account.publicKey&&this.init()}}},f=d,g=(n("Lu6P"),n("KHd+")),h=Object(g["a"])(f,r,a,!1,null,"11428516",null);e["default"]=h.exports},oAqo:function(t,e,n){"use strict";n.d(e,"j",function(){return s}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"a",function(){return f}),n.d(e,"d",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"h",function(){return b});var r=n("eO9T"),a=n("AKX1"),i=n.n(a),s=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/,o=/^[A-Z]{3,6}$/,l=/^[a-z0-9_]{2,20}$/,c=/^[A-Za-z0-9_\-+!@$% ]{10,100}$/,u=/^[A-Za-z0-9]{3,16}$/,d=/^[A-Z]{3,6}$/,f=/^\d+(\.\d+)?$/,g=/\s/g,h=function(){return Object(r["withParams"])({},function(t){return i.a.validateMnemonic(t)})},p=function(){return Object(r["withParams"])({},function(t){return o.test(t)})},m=function(){return Object(r["withParams"])({},function(t){return s.test(t)})},b=function(){return Object(r["withParams"])({},function(t){return t.length<=40&&!g.test(t)})}},xvLM:function(t,e,n){}}]);