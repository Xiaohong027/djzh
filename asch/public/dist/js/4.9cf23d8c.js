(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"9s5Q":function(e,t,n){},L9Hc:function(e,t,n){e.exports=n.p+"img/loginBall.c0ef109.png"},LphY:function(e,t,n){var r={"./":["EstQ"],"./de":["2SE3"],"./de/":["2SE3"],"./de/index":["2SE3"],"./de/index.js":["2SE3"],"./en":["gRoS"],"./en/":["gRoS"],"./en/index":["gRoS"],"./en/index.js":["gRoS"],"./index":["EstQ"],"./index.js":["EstQ"],"./zh":["KDNX"],"./zh/":["KDNX"],"./zh/index":["KDNX"],"./zh/index.js":["KDNX"]};function s(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){var e=n(t[0]);return e}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}s.keys=function(){return Object.keys(r)},s.id="LphY",e.exports=s},M9Gd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",[n("q-page-container",{staticClass:"login-container"},[n("div",{staticClass:"login-center row justify-center"},[n("div",{staticClass:"mobile-only row justify-center items-center mobile-logo bg-primary"},[n("span",{staticClass:"mobile-icon"})]),n("div",{staticClass:"desktop-only main-logo"}),n("q-page",{class:e.loginContentClass,attrs:{padding:""}},[n("div",{class:e.mainPageClass},[n("img",{ref:"img",staticClass:"desktop-only login-ball",attrs:{src:e.loginBallImg,alt:"login ball"}}),0==e.registerStep?n("q-card",{class:e.loginPanelClass},[n("q-card-title",[n("div",{staticClass:"row justify-between"},[n("span",{staticClass:"col-md-3 col-xs-6 lite-orange card-font"},[e._v("\n                  "+e._s(e.$t("LOGIN"))+"\n                ")]),n("div",{staticClass:"col-md-3 col-xs-6"},[n("q-select",{attrs:{chips:"",color:"secondary",options:e.langsOpts},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}})],1)])]),n("q-card-main",{staticClass:"row col-10 justify-center "},[n("q-field",{staticClass:"col-10",attrs:{error:e.$v.secret.$error,"error-label":e.$t("ERR_VIOLATE_BIP39")}},[n("q-input",{attrs:{icon:"search","float-label":e.$t("INPUT_PASSWORD"),type:"password",clearable:""},on:{change:e.$v.secret.$touch,keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.userLogin(t):null}},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1),n("div",{staticClass:"row col-10 justify-between options-panel"},[n("q-select",{staticClass:"col",staticStyle:{width:"125px"},attrs:{separator:"",radio:"","float-label":e.$t("CHOSE_SERVER"),options:e.serverOpts},model:{value:e.serverUrl,callback:function(t){e.serverUrl=t},expression:"serverUrl"}})],1),n("div",{staticClass:"row col-10 q-mt-lg"},[n("p")])],1),n("q-card-main",{staticClass:"row col-10 justify-center "},[n("div",{staticClass:"row col-10 justify-between"},[n("q-btn",{staticClass:"col-5",attrs:{loading:e.loading,big:"",color:"primary"},on:{click:e.userLogin}},[e._v("\n                  "+e._s(e.$t("LOGIN"))+"\n                ")]),n("q-btn",{staticClass:"col-5",attrs:{big:"",color:"primary"},on:{click:e.newUser}},[e._v("\n                  "+e._s(e.$t("NEW_ACCOUNT"))+"\n                ")])],1)])],1):e._e(),n("q-card",{directives:[{name:"show",rawName:"v-show",value:1==e.registerStep,expression:"registerStep==1"}],class:e.registerPanelClass},[n("q-card-title",{staticClass:"lite-orange card-font"},[n("span",{staticClass:"lite-orange card-font"},[e._v("\n              "+e._s(e.$t("CREATE_MASTER_PASSWORD"))+"\n              ")])]),n("q-card-main",{staticClass:"row col-12 justify-center "},[n("q-field",{staticClass:"col-10",attrs:{helper:e.$t("CREATE_TIP1")}},[n("q-input",{staticClass:"new-secret-input col-6",attrs:{type:"textarea",disable:"","min-rows":3},model:{value:e.newSecret,callback:function(t){e.newSecret=t},expression:"newSecret"}}),n("q-btn",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.newSecret||"no data",expression:"newSecret || 'no data' "}],staticClass:"copy-new-secret col-10",attrs:{color:"primary",flat:"",round:"",icon:"content copy"},on:{click:function(t){e.jumpOut(e.$t("COPY_SUCCESS"))}}})],1),n("q-field",{staticClass:"col-10"},[n("q-input",{staticClass:"margin-t-10",attrs:{type:"textarea","float-label":e.$t("CREATE_TIP2"),clearable:""},model:{value:e.confirmNewSecret,callback:function(t){e.confirmNewSecret=t},expression:"confirmNewSecret"}})],1)],1),n("q-card-main",{staticClass:"prompt-message"},[n("q-checkbox",{attrs:{val:"one",label:e.$t("READ_TIP1")},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}),n("br"),n("br"),n("q-checkbox",{staticClass:"selection-container-two",attrs:{val:"two",label:e.$t("READ_TIP2")},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}),n("br"),n("br"),n("q-checkbox",{staticClass:"selection-container-three",attrs:{val:"three",label:e.$t("READ_TIP3")},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}})],1),n("q-card-main",{staticClass:"row col-10 justify-center padding-b-54"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==e.registerStep,expression:"registerStep==1"}],staticClass:"row col-10 justify-between"},[n("q-btn",{staticClass:"col-auto col-5",attrs:{big:"",color:"primary"},on:{click:e.toLogin}},[e._v("\n                  "+e._s(e.$t("CANCEL_LOGIN"))+"\n                ")]),n("q-btn",{staticClass:"col-auto col-5",attrs:{big:"",color:"primary"},on:{click:e.verifyNewSecret}},[e._v("\n                  "+e._s(e.$t("CREATE_MASTER_PASSWORD"))+"\n                ")])],1)])],1)],1)])],1)])],1)},s=[];r._withStripped=!0;n("ls82");var i=n("yXPU"),a=n.n(i),c=n("MVZn"),o=n.n(c),l=n("4IOb"),u=n("L9Hc"),d=n.n(u),p=n("ta7f"),f=n("oAqo"),g=n("ydnR"),h=n("dGEQ"),b=n("ygAv"),v=n("L2JU"),m={components:{QPageContainer:l["J"],QPage:l["I"],QLayout:l["A"],QCard:l["h"],QIcon:l["u"],QCardSeparator:l["l"],QCardMain:l["j"],QCardTitle:l["m"],QField:l["t"],QInput:l["v"],QSelect:l["R"],QCheckbox:l["n"],QBtn:l["e"]},data:function(){return{loginBallImg:d.a,secret:"",remember:!0,lang:"",langsOpts:g["b"],isRegister:!1,registerStep:0,newSecret:"",confirmNewSecret:"",loading:!1,secretSaved:!1,serverUrl:" ",selection:[]}},validations:{secret:{required:p["required"],bip39:Object(f["d"])()}},methods:o()({},Object(v["b"])(["getAccountsInfo"]),Object(v["d"])(["setUserInfo","updateUserInfo","setUserIsLogin"]),{userLogin:function(){var e=a()(regeneratorRuntime.mark(function e(t,n){var r,s,i,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,r=this.$t,this.$v.secret.$touch(),!this.$v.secret.$error){e.next=7;break}return Object(b["n"])(r("ERR_VIOLATE_BIP39")),this.loading=!1,e.abrupt("return");case 7:return s=Object(h["o"])(this.secret),i=Object(h["n"])(s),a={},e.prev=10,e.next=13,this.getAccountsInfo({address:i});case 13:c=e.sent,!0===c.success?(a=c,a.secret=this.secret,a.publicKey=s,a.account||(a.account={address:i,xas:0,isLocked:0,isAgent:0,lockHeight:0,agent:0,weight:0,agentWeight:0}),this.remember?Object(b["l"])("user",a):Object(b["k"])("user"),this.updateUserInfo(a),this.loading=!1,this.setUserIsLogin(!0),this.$router.push("home")):(Object(b["n"])(r("ERR_SERVER_ERROR")),this.loading=!1),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](10),Object(b["n"])(r("ERR_SERVER_ERROR")),this.loading=!1;case 21:return e.prev=21,this.loading=!1,e.finish(21);case 24:case"end":return e.stop()}},e,this,[[10,17,21,24]])}));return function(t,n){return e.apply(this,arguments)}}(),toLogin:function(){this.registerStep=0},newUser:function(){this.newSecret=Object(h["m"])(),this.registerStep=1},saveNewSecret:function(){var e=this.newSecret,t=Object(h["o"])(e),n=Object(h["n"])(t),r="secret:\r\n"+e+"\r\n\r\naddress:\r\n"+n+"\r\n",s=document.createElement("a");if(s.setAttribute("target","_blank"),void 0!==Blob){var i=new Blob([r],{type:"text/plain"});s.setAttribute("href",URL.createObjectURL(i))}else s.setAttribute("href","data:text/plain,"+encodeURIComponent(r));s.setAttribute("download","ASCH-secret"),document.body.appendChild(s),s.click(),document.body.removeChild(s),this.secretSaved=!0},cleanRegister:function(){this.registerStep=0,this.isRegister=!1,this.newSecret="",this.confirmNewSecret=""},verifyNewSecret:function(){var e=this.newSecret===this.confirmNewSecret,t=3===this.selection.length;t?e?this.cleanRegister():Object(b["n"])(this.$t("ERR_PASSWORD_NOT_EQUAL")):Object(b["n"])(this.$t("ERR_READ_ALL"))},jumpOut:function(e){Object(b["m"])(e)}}),mounted:function(){var e=this;if(this.lang="zh",Promise.resolve().then(n.bind(null,"KDNX")).then(function(t){e.$q.i18n.set(t.default)}),window&&window.location){var t=window.location,r=t.protocol+"//"+t.hostname+":"+t.port||80;Object(b["l"])("currentServer",r)}},created:function(){Object(b["k"])("currentServer")},computed:{loginPanelClass:function(){return this.isDesk?"login-panel":"login-panel width-100"},registerPanelClass:function(){return this.isDesk?"register-panel":"register-panel width-100"},loginContentClass:function(){return this.isDesk?"row justify-center":"row justify-center width-100"},mainPageClass:function(){return this.isDesk?"layout-padding row justify-center main-page":" row justify-center main-page-mobile"},serverOpts:function(){var e=g["c"].map(function(e){var t={label:e.local,value:e};return t});return e.unshift({label:this.$t("DEFAULT_SERVER"),value:" "}),e}},watch:{lang:function(e){var t=this;this.locale=this.$i18n.locale=e,Object(b["l"])("locale",e),n("LphY")("./".concat(e)).then(function(e){t.$q.i18n.set(e.default)})},serverUrl:function(e){if(e){var t=e.ip,n=e.port,r=void 0===n?null:n,s=r?t+":"+r:t;Object(b["l"])("currentServer",s)}}}},w=m,C=(n("Vx8/"),n("KHd+")),S=Object(C["a"])(w,r,s,!1,null,"13787088",null);t["default"]=S.exports},"Vx8/":function(e,t,n){"use strict";var r=n("9s5Q"),s=n.n(r);s.a},oAqo:function(e,t,n){"use strict";n.d(t,"j",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"i",function(){return b}),n.d(t,"h",function(){return v});var r=n("eO9T"),s=n("AKX1"),i=n.n(s),a=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/,c=/^[A-Z]{3,6}$/,o=/^[a-z0-9_]{2,20}$/,l=/^[A-Za-z0-9_\-+!@$% ]{10,100}$/,u=/^[A-Za-z0-9]{3,16}$/,d=/^[A-Z]{3,6}$/,p=/^\d+(\.\d+)?$/,f=/\s/g,g=function(){return Object(r["withParams"])({},function(e){return i.a.validateMnemonic(e)})},h=function(){return Object(r["withParams"])({},function(e){return c.test(e)})},b=function(){return Object(r["withParams"])({},function(e){return a.test(e)})},v=function(){return Object(r["withParams"])({},function(e){return e.length<=40&&!f.test(e)})}}}]);