(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{K3g5:function(t,a,e){"use strict";var n=e("fx4T"),o=e.n(n);o.a},fx4T:function(t,a,e){},uJuG:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"proposal-container"},[e("div",{staticClass:"geteway-top"},[e("i",{staticClass:"material-icons vertical-align-middle font-30 text-secondary"},[t._v("person")]),e("span",{staticClass:"font-20 text-black vertical-align-middle"},[t._v(t._s(t.$t("PROPOSAL")))])]),e("div",{staticClass:"proposal-content bg-white shadow-2 border-r-6"},[e("q-btn-group",{staticClass:"desktop-hide float-right margin-bottom-10"},[e("q-btn",{staticClass:"font-14 new-launch",attrs:{size:"sm",color:"secondary",label:t.$t("proposal.LAUNCH")},on:{click:t.callModal}})],1),e("q-btn-group",{attrs:{outline:""}},[e("q-btn",{class:t.proposalBtnClass,attrs:{flat:"",color:"secondary",label:t.$t("proposal.TITLE_ALL")},on:{click:function(a){t.changeState("all")}}}),e("q-btn",{class:t.proposalBtnClass,attrs:{flat:"",label:t.$t("proposal.TITLE_PROCESS")},on:{click:function(a){t.changeState("ongoing")}}}),e("q-btn",{class:t.proposalBtnClass,attrs:{flat:"",label:t.$t("proposal.TITLE_ACTIVED")},on:{click:function(a){t.changeState("activated")}}}),e("q-btn",{class:t.proposalBtnClass,attrs:{flat:"",label:t.$t("proposal.TITLE_EXPIRED")},on:{click:function(a){t.changeState("expired")}}})],1),e("q-btn-group",{staticClass:"mobile-hide float-right"},[e("q-btn",{staticClass:"font-18",attrs:{size:"sm",color:"secondary",label:t.$t("proposal.LAUNCH")},on:{click:t.callModal}})],1),e("q-table",{staticClass:"no-shadow margin-t-20",attrs:{data:t.proposalDetail,columns:t.columns,"row-key":"no",pagination:t.pagination,"rows-per-page-options":[10]},on:{"update:pagination":function(a){t.pagination=a},request:t.request},scopedSlots:t._u([{key:"body-cell-desc",fn:function(a){return e("q-td",{attrs:{props:a}},[t._v("\n        "+t._s(a.value.substring(0,20)+"...")+"\n        "),a.value?e("q-popover",{ref:"popover-msg"},[e("div",{staticClass:"light-paragraph"},[t._v(t._s(a.value))])]):t._e()],1)}},{key:"body-cell-tid",fn:function(a){return e("q-td",{attrs:{props:a}},[t._v("\n        "+t._s(a.value.substring(0,7))+"\n        "),a.value?e("q-popover",{ref:"popover-msg"},[e("div",{staticClass:"light-paragraph"},[t._v(t._s(a.value))])]):t._e()],1)}},{key:"body-cell-topic",fn:function(a){return e("q-td",{attrs:{props:a}},[t._v("\n        "+t._s(t.transGate(a.value))+"\n      ")])}},{key:"body-cell-activated",fn:function(a){return e("q-td",{attrs:{props:a}},[e("q-btn",{attrs:{flat:"",color:"secondary",label:t.$t("CHECK")},on:{click:function(e){t.callShowModal(a.row.tid)}}})],1)}},{key:"body-cell-period",fn:function(a){return e("q-td",{attrs:{props:a}},[t._v("\n        "+t._s(t.stt(a.row))+"\n      ")])}}])})],1)])},o=[];n._withStripped=!0;e("ls82");var s=e("yXPU"),r=e.n(s),i=e("MVZn"),l=e.n(i),c=e("4IOb"),p=e("L2JU"),u=e("ygAv"),d={name:"Proposal",components:{QPage:c["I"],QBtnGroup:c["f"],QTable:c["U"],QTd:c["X"],QBtn:c["e"],QPopover:c["M"]},data:function(){return{filter:"",loading:!1,activatedState:"all",pagination:{page:1,rowsNumber:0,rowsPerPage:10},proposalDetail:[],columns:[{name:"tid",required:!0,label:this.$t("proposal.No"),align:"center",field:"tid"},{name:"topic",required:!0,label:this.$t("proposal.TYPE"),align:"center",field:"topic"},{name:"period",required:!0,label:this.$t("proposal.PERIOD"),align:"center",field:"content"},{name:"desc",required:!0,label:this.$t("proposal.DETAIL"),align:"center",field:"desc"},{name:"activated",required:!0,label:this.$t("proposal.STATUS"),align:"center",field:"activated"}],isLaunchShow:!1,isDetailShow:!1,btnStatus:1}},methods:l()({},Object(p["b"])(["getProposals"]),{getProposalsFunc:function(){var t=r()(regeneratorRuntime.mark(function t(){var a,e,n,o,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:{},r.length>1&&void 0!==r[1]?r[1]:"",this.loading=!0,a.page&&(this.pagination=a),e=this.pagination.rowsPerPage,n=this.pagination.page,o={limit:e,offset:(n-1)*e,type:this.activatedState},t.next=9,this.getProposals(o);case 9:return s=t.sent,this.proposalDetail=s.proposals,this.pagination.rowsNumber=s.count,this.loading=!1,t.abrupt("return",s);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),request:function(){var t=r()(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getProposalsFunc(a.pagination,a.filter);case 2:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),operationBtn:function(t){switch(t){case 0:return this.$t("proposal.TIP_VOTE");case 1:return this.$t("proposal.TIP_PASS");case 2:return this.$t("proposal.TIP_REJECT")}},transGate:function(t){switch(t){case"gateway_register":return this.$t("proposal.SELECT_NEWNET");case"gateway_init":return this.$t("proposal.SELECT_INITNET");case"gateway_update_member":return this.$t("proposal.SELECT_MEMBER_ACTION")}},changeState:function(t){this.activatedState=t,this.getProposalsFunc()},callModal:function(){this.$router.push({name:"launchProposal"})},callShowModal:function(t){this.$router.push({name:"proposalDetail",params:{tid:t}})},stt:function(t){var a=Object(u["a"])(t.timestamp),e=Object(u["h"])({tTimestamp:t.timestamp,tHeight:t.height,endHeight:t.endHeight});return"".concat(a," - ").concat(e)}}),computed:{proposalBtnClass:function(){return this.isDesk?"font-18 proposal-content-top-btn":"font-12 proposal-content-top-btn"}},mounted:function(){this.getProposalsFunc()}},g=d,h=(e("K3g5"),e("KHd+")),f=Object(h["a"])(g,n,o,!1,null,"01cb4caa",null);a["default"]=f.exports}}]);