(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{oAqo:function(e,t,r){"use strict";r.d(t,"j",function(){return u}),r.d(t,"f",function(){return c}),r.d(t,"g",function(){return o}),r.d(t,"e",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"a",function(){return f}),r.d(t,"d",function(){return b}),r.d(t,"b",function(){return w}),r.d(t,"i",function(){return m}),r.d(t,"h",function(){return $});var s=r("eO9T"),n=r("AKX1"),i=r.n(n),u=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/,a=/^[A-Z]{3,6}$/,c=/^[a-z0-9_]{2,20}$/,o=/^[A-Za-z0-9_\-+!@$% ]{10,100}$/,d=/^[A-Za-z0-9]{3,16}$/,l=/^[A-Z]{3,6}$/,f=/^\d+(\.\d+)?$/,h=/\s/g,b=function(){return Object(s["withParams"])({},function(e){return i.a.validateMnemonic(e)})},w=function(){return Object(s["withParams"])({},function(e){return a.test(e)})},m=function(){return Object(s["withParams"])({},function(e){return u.test(e)})},$=function(){return Object(s["withParams"])({},function(e){return e.length<=40&&!h.test(e)})}},qccK:function(e,t,r){},wHzv:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("q-card",{staticClass:"row col shadow-1"},[r("q-card-title",[e._v("\n    "+e._s(e.user.issuer?e.$t("PUBLISHER_ALREADY_REGISTERED"):e.$t("ERR_NO_PUBLISHER_REGISTERED_YET"))+"\n    "),r("div",{attrs:{slot:"subtitle"},slot:"subtitle"})]),r("q-card-main",{staticClass:"row col-12 justify-center "},[r("q-field",{staticClass:"col-8",attrs:{label:e.$t("DAPP_NAME"),"label-width":2,error:e.$v.issuer.name.$error,"error-label":"error",count:15}},[r("q-input",{attrs:{clearable:"",disable:!!e.user.issuer},on:{blur:e.$v.issuer.name.$touch},model:{value:e.issuer.name,callback:function(t){e.$set(e.issuer,"name",t)},expression:"issuer.name"}})],1),r("q-field",{staticClass:"col-8",attrs:{label:e.$t("DESCRIBE"),"label-width":2,error:e.$v.issuer.desc.$error,row:5,count:500,"error-label":"error"}},[r("q-input",{attrs:{type:"textarea",clearable:"",disable:!!e.user.issuer},on:{blur:e.$v.issuer.desc.$touch},model:{value:e.issuer.desc,callback:function(t){e.$set(e.issuer,"desc",t)},expression:"issuer.desc"}})],1),!e.user.issuer&&e.secondSignature?r("q-field",{staticClass:"col-8",attrs:{label:e.$t("TRS_TYPE_SECOND_PASSWORD"),error:e.secondPwdError,"label-width":2,"error-label":e.$t("ERR_TOAST_SECONDKEY_WRONG")}},[r("q-input",{attrs:{type:"password"},on:{blur:e.validateSecondPwd},model:{value:e.secondPwd,callback:function(t){e.secondPwd=t},expression:"secondPwd"}})],1):e._e()],1),r("q-card-separator"),e.user.issuer?e._e():r("q-card-main",{staticClass:"row col-12 justify-center "},[r("div",{staticClass:"row col-10 justify-end"},[r("q-btn",{staticClass:"col-auto ",attrs:{loading:e.loading,big:"",color:"primary"},on:{click:e.submit}},[e._v("\n        "+e._s(e.$t("SUBMIT"))+"\n      ")])],1)])],1):e._e()},n=[];s._withStripped=!0;r("ls82");var i=r("yXPU"),u=r.n(i),a=(r("f3/d"),r("4IOb")),c=r("fBUP"),o=r("ta7f"),d=r("ygAv"),l=r("dGEQ"),f=r("oAqo"),h={props:["userObj"],components:{QField:a["t"],QInput:a["v"],QCard:a["h"],QIcon:a["u"],QCardTitle:a["m"],QCardSeparator:a["l"],QCardMain:a["j"],QBtn:a["e"]},data:function(){return{issuer:{name:"",desc:""},secondPwd:null,secondPwdError:!1,loading:!1}},validations:{issuer:{name:{required:o["required"],maxLength:Object(o["maxLength"])(15)},desc:{required:o["required"],maxLength:Object(o["maxLength"])(500)}}},methods:{submit:function(e){var t=this;this.loading=!0;var r=this.$t;this.$v.issuer.$touch();var s=this.$v.issuer.$error,n=!1;if(this.secondSignature&&(n=this.pwdValid,this.secondPwdError=n),s||n)Object(d["p"])(r("ERR_PUBLISHER_NOT_EMPTY")),this.done();else{this.secondPwdError=!1;var i=this.user.secret,a=this.issuer,o=a.name,f=a.desc;Object(d["b"])({title:r("CONFIRM"),message:r("OPERATION_REQUIRES_FEE")+"100 XAS",cancel:r("CANCEL"),confirm:r("CONFIRM")},function(){t.done()},u()(regeneratorRuntime.mark(function e(){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(l["g"])(o,f,i,t.secondPwd),e.next=3,c["a"].broadcastTransaction(r);case 3:s=e.sent,s.success?(t.user.issuer=!0,t.done()):(Object(d["q"])(t.$t,s.error),t.done());case 5:case"end":return e.stop()}},e,this)})))}},validateSecondPwd:function(e){var t=this.pwdValid;return this.secondPwdError=t,t},done:function(){this.loading=!1}},computed:{user:function(){return this.userObj},secondSignature:function(){return this.user?this.user.account.secondPublicKey:null},pwdValid:function(){return!f["j"].test(this.secondPwd)}},mounted:function(){this.userObj.issuer&&(this.issuer=this.userObj.issuer)},watch:{userObj:function(e){var t=this;e.issuer?this.issuer=e.issuer:this.$root.$emit("getIssuer",function(e){e&&(t.issuer=e)})}}},b=h,w=(r("wYbz"),r("KHd+")),m=Object(w["a"])(b,s,n,!1,null,"18451c78",null);t["default"]=m.exports},wYbz:function(e,t,r){"use strict";var s=r("qccK"),n=r.n(s);n.a}}]);