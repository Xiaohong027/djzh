(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"+9c7":function(t,e,n){},"0xgy":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"gatewayDetail-container"},[n("div",{staticClass:"gatewayDetail-content"},[n("div",{staticClass:"no-wrap q-pa-md row justify-between"},[n("span",[n("i",{staticClass:"material-icons vertical-align-sub font-20 text-black"},[t._v("border_color")]),n("h5",{staticClass:"q-px-md inline-block font-18 q-my-none"},[t._v(t._s(t.$t("COUNCIL_PARTICULARS")))])])]),n("div",{staticClass:"row q-px-md gutter-md"},[n("div",{staticClass:"col-md-8 col-xs-12"},[n("q-table",{attrs:{title:t.$t("COUNCIL_PAGE.MODAL_TITLE",{number:t.datas.length}),data:t.datas,columns:t.columns,loading:t.loading,"row-key":"address","rows-per-page-options":[10],"hide-bottom":""},on:{request:t.request},scopedSlots:t._u([{key:"body-cell-address",fn:function(e){return n("q-td",{attrs:{props:e}},[n("div",{staticClass:"text-secondary cursor-pointer",on:{click:function(n){t.viewAccountInfo(e.row.member)}}},[t._v("\n              "+t._s(e.row.member)+"\n            ")])])}}])})],1),t.accountLeft?n("div",{class:t.gatewayDetailClass},[n("q-card",{staticClass:"desktop-only no-shadow",attrs:{align:"left"}},[n("div",{staticClass:"bg-white shadow-2"},[n("q-card-title",{staticClass:"bg-nine"},[n("span",{staticClass:"font-22 text-black font-weight"},[t._v(t._s(t.$t("DAPP_BANLANCE_DETAIL")))])]),n("q-card-main",{staticClass:"word-wrap-break q-card-main q-card-container padding-b-40 padding-t-40"},[n("span",{staticClass:"font-30 text-secondary"},[t._v(t._s(t._f("fee")(t.accountLeft)))]),n("span",{staticClass:"q-pl-xs"},[t._v("XAS")])])],1)])],1):t._e()]),n("div",{staticClass:"col-12 bg-white q-px-md q-py-md"},[n("trans-record-container",{staticClass:"table",attrs:{userInfo:t.councilAccount}})],1)])])},r=[];a._withStripped=!0;n("ls82");var s=n("yXPU"),i=n.n(s),o=n("MVZn"),c=n.n(o),u=n("4IOb"),l=n("L2JU"),d=n("ygAv"),p=n("bz7B"),f={name:"councilDetail",props:[],components:{QPage:u["I"],QTable:u["U"],QCard:u["h"],QCardTitle:u["m"],QCardMain:u["j"],QBtn:u["e"],QTd:u["X"],TransRecordContainer:p["a"]},data:function(){return{columns:[{name:"weight",required:!0,label:this.$t("WEIGHT"),align:"center",field:"weight"},{name:"address",required:!0,label:this.$t("COUNCIL_PAGE.ADDRESS"),align:"center",field:"member"}],loading:!1,datas:[],group:null,accountLeft:0,address:"GADQ2bozmxjBfYHDQx3uwtpwXmdhafUdkN"}},methods:c()({},Object(l["b"])(["getCouncil","getAccountsInfo"]),{loadData:function(){var t=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getCouncil({address:this.address});case 2:e=t.sent,e.success&&e.group&&(this.group=e.group,this.datas=e.group.members);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getGroupAccount:function(){var t=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAccountsInfo({address:this.address});case 2:e=t.sent,e.success&&e.account&&(this.accountLeft=e.account.xas);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),request:function(){var t=i()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.filter=e.filter,t.next=4,this.loadData();case 4:this.loading=!1;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),convertFrequency:function(t){return Math.floor(t/8640)},compileTimeStamp:function(t){return Object(d["a"])(t)},getTimeFromHight:function(t){return Object(d["g"])(this.latestBlock,t)},viewAccountInfo:function(t){this.$root.$emit("openAccountModal",t)}}),mounted:function(){this.loadData(),this.getGroupAccount()},computed:c()({},Object(l["c"])(["latestBlock","userInfo"]),{gatewayDetailClass:function(){return this.isDesk?"col-md-4 col-xs-12":"col-md-4 col-xs-12 margin-top-minus-28"},councilAccount:function(){return{address:this.address,account:{address:this.address}}}}),watch:{userInfo:function(t){t&&(this.loadData(),this.getGroupAccount())}}},h=f,m=(n("rrwN"),n("KHd+")),g=Object(m["a"])(h,a,r,!1,null,"24fe3c1e",null);e["default"]=g.exports},ZBpz:function(t,e,n){},b0M8:function(t,e,n){"use strict";var a=n("+9c7"),r=n.n(a);r.a},bz7B:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("record-table",{staticClass:"table",attrs:{data:t.trans,options:t.toggleBtn,maxPage:t.maxPage,title:t.computedTitle,clip:{col1:!1,col2:!0}},on:{changePage:t.changePage,changeType:t.changeType}})],1)},r=[];a._withStripped=!0;n("pIFo"),n("rGqo"),n("ls82");var s=n("yXPU"),i=n.n(s),o=n("MVZn"),c=n.n(o),u=n("dGEQ"),l=n("4IOb"),d=n("ydnR"),p=n("L2JU"),f=n("2BWQ"),h={name:"TransRecordContainer",props:["userInfo","currency"],components:{QTable:l["U"],QTd:l["X"],QTableColumns:l["V"],QTooltip:l["Da"],QBtnToggle:l["g"],QPopover:l["M"],QChip:l["o"],RecordTable:f["a"]},data:function(){return{trans:[],loading:!1,maxPage:1,pagination:{page:1,rowsNumber:0,rowsPerPage:10},filter:"",row:null,modalInfoShow:!1,type:1,toggleBtn:[{label:this.$t("TRS_TYPE_TRANSFER_RECORD"),value:1},{label:this.$t("DAPP_TRANSACTION_RECORD"),value:2}]}},methods:c()({},Object(p["b"])(["getTransactions","getTransfers"]),{info:function(t){this.$q.notify({type:"positive",color:"positive",timeout:2e3,message:t})},getAmountNFee:function(t){var e=t.amount,n=t.asset,a=void 0===n?{}:n,r=a?a.precision:8;return Object(u["b"])(e,r)},request:function(){var t=i()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTrans(e.pagination,e.filter);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getTrans:function(){var t=i()(regeneratorRuntime.mark(function t(){var e,n,a,r,s,i,o,c=this,l=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=l.length>0&&void 0!==l[0]?l[0]:{},l.length>1&&void 0!==l[1]?l[1]:"",this.loading=!0,e.page&&(this.pagination=e),n=this.pagination.rowsPerPage,a=this.pagination.page,r={orderBy:"timestamp:desc",limit:n,offset:(a-1)*n},this.currency&&(r.currency=this.currency),2!==this.type){t.next=19;break}return r.senderId=this.userInfo.account.address,t.next=12,this.getTransactions(r);case 12:s=t.sent,this.trans=s.transactions,i=[],s.transactions.forEach(function(t){var e={col1:[],col2:[],fee:[]};e.col1.push(c.getTransType(t.type)),e.col1.push(Object(u["l"])(t.timestamp)),e.col2.push(c.dueArg(t.args)),e.col2.push(c.$t("ARGS")),e.fee.push("-"+Object(u["b"])(t.fee)),e.fee.push("XAS"),e.iconKey="FEE",e.tid=t.id,i.push(e)}),this.trans=i,t.next=26;break;case 19:return r.ownerId=this.userInfo.account.address,t.next=22,this.getTransfers(r);case 22:s=t.sent,o=[],s.transfers.forEach(function(t){var e={col1:[],col2:[],fee:[]},n="";t.recipientId===c.userInfo.address?(n="+",e.col1.push(t.senderId),e.needClip=!0,e.iconKey="RECEIPT"):(n="-",t.recipientName?(e.col1.push(t.recipientName),e.needClip=!1):(e.col1.push(t.recipientId),e.needClip=!0),e.iconKey="PAY");var a=t.amount.indexOf(".");a>0&&(t.amount=t.amount.substring(0,a)),e.col1.push(Object(u["l"])(t.timestamp)),e.col2.push(t.transaction.message||c.$t("NO_REMARK")),e.col2.push(c.$t("REMARK")),e.fee.push(n+Object(u["b"])(t.amount,t.asset?t.asset.precision:8)),e.fee.push(t.currency),e.tid=t.tid,o.push(e)}),this.trans=o;case 26:return this.pagination.rowsNumber=s.count,this.maxPage=Math.ceil(this.pagination.rowsNumber/this.pagination.rowsPerPage),this.loading=!1,t.abrupt("return",s);case 30:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),formatTimestamp:function(t){return Object(u["l"])(t)},getDataInfo:function(t){var e=t.row;this.$root.$emit("showTransInfoModal",e)},getAccountInfo:function(){var t=i()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$root.$emit("openAccountModal",e);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),matchSelf:function(t){return this.userInfo.account.address===t},resetTable:function(){this.pageNo=1},getTransType:function(t){return this.$t(d["d"][t])},resetQuery:function(){this.pagination={page:1,rowsNumber:0,rowsPerPage:10},this.maxPage=1},getName:function(t){var e=this.matchSelf(t.value);return e?"Me":t.row.recipientName?t.row.recipientName:t.value},showMemo:function(t){if(t.transaction.message)return""===t.transaction.message?"":t.transaction.message.slice(0,7)},dueArg:function(t){if(t&&0!==t.length){var e=t.join(",");return e=e.replace(/,/g,", "),e}return this.$t("NO_ARGS")},changePage:function(t){this.pagination.page=t,this.getTrans()},changeType:function(t){this.type=t}}),mounted:function(){this.getTrans()},computed:{dynamicCol:function(){var t=this;return 1===this.type?[{name:"id",label:"ID",field:"id"},{name:"currency",label:"ID",field:"currency"},{name:"type",label:this.$t("TYPE"),field:"type",align:"center",filter:!0,format:function(e){return t.getTransType(e)}},{name:"timestamp",label:this.$t("DATE"),field:"timestamp",width:"180px",format:function(e){return t.formatTimestamp(e)},type:"number"},{name:"fee",label:this.$t("FEES"),field:"fee",filter:!0,format:function(t){return Object(u["b"])(t)}},{name:"args",label:this.$t("ARGS"),field:"args",format:function(t){return t&&(t=t.replace(/"/g,""),t=t.replace("[",""),t=t.replace("]",""),t=t.substr(0,10)+"..."),t},align:"center"}]:[{name:"currency",label:this.$t("ASSET"),field:"currency",filter:!0,type:"number"},{name:"senderId",label:this.$t("SENDER"),field:"senderId",align:"center",format:function(e){var n=t.matchSelf(e);return n?"Me":e}},{name:"recipientId",label:this.$t("RECIPIENT"),field:"recipientId",align:"center"},{name:"timestamp",label:this.$t("DATE"),field:"timestamp",width:"180px",format:function(e){return t.formatTimestamp(e)},type:"number"},{name:"amount",label:this.$t("AMOUNTS"),field:"amount",filter:!0,type:"number"},{name:"message",label:this.$t("REMARK"),field:"message",filter:!0,type:"string",width:"120px"}]},transRecordBtnClass:function(){return this.isDesk?"bg-secondary text-white":"trans-record-btns bg-secondary text-white"},tableTitle:function(){var t=this.$t;return 1===this.type?t("DAPP_TRANSACTION_RECORD_LATELY"):t("TRS_TYPE_TRANSFER_RECORD_LATELY")},computedTitle:function(){return 2===this.type?this.toggleBtn[1].label:this.toggleBtn[0].label}},watch:{userInfo:function(t){this.getTrans()},type:function(t){this.resetQuery(),this.getTrans()}}},m=h,g=(n("b0M8"),n("KHd+")),b=Object(g["a"])(m,a,r,!1,null,"30666793",null);e["a"]=b.exports},rrwN:function(t,e,n){"use strict";var a=n("ZBpz"),r=n.n(a);r.a}}]);